<TMPL_INCLUDE NAME="header.tmpl">
<TMPL_INCLUDE NAME="menu.tmpl">
<div id="content">
<h2>Cluster <TMPL_VAR NAME=CLUSTER_NAME> - Apache2 Configuration</h2>
<hr />
<form method="POST" action="/cgi/kanopya.cgi/components/process_configurecomponent">
<input type="hidden" name="component_instance_id" value="<TMPL_VAR NAME=component_instance_id>"/>
<input type="hidden" name="cluster_id" value="<TMPL_VAR NAME=cluster_id>"/>
<input type="hidden" name="apache2_id" value="<TMPL_VAR NAME=apache2_id>"/>
<input type="hidden" name="component_name" value="Apache2"/>
<table>
<tr><td>server root :</td><td><input type="text" name="apache2_serverroot" value="<TMPL_VAR NAME=apache2_serverroot>"/></td></tr>
<tr><td>http ports :</td><td><input type="text" name="apache2_ports" value="<TMPL_VAR NAME=apache2_ports>"/></td></tr>
<tr><td>ssl ports :</td><td><input type="text" name="apache2_sslports" value="<TMPL_VAR NAME=apache2_sslports>"/></td></tr>
<tr><td>php sessions directory :</td><td><input type="text" name="apache2_phpsession_dir" value="<TMPL_VAR NAME=apache2_phpsession_dir>"/></td></tr>
<tr><td>log level :</td><td>
<select name="apache2_loglevel">
<option id="debug" value="debug">debug</option>
<option id="info" value="info">info</option>
<option id="notice" value="notice">notice</option>
<option id="warn" value="warn">warn</option>
<option id="error" value="error">error</option>
<option id="crit" value="crit">crit</option>
<option id="alert" value="alert">alert</option>
<option id="emerg" value="emerg">emerg</option>
</select></td></tr>
</table>
<hr />
<h3>Virtual hosts definition</h3>
<table>
<tr><th>server name</th><th>admin email</th><th>document root</th><th>SSL enable</th><th>access log</th><th>error log</th></tr>
<TMPL_LOOP NAME=apache2_virtualhosts>
<tr><td><input type="text" name="apache2_virtualhosts-<TMPL_IF NAME=apache2_virtualhost_id><TMPL_VAR NAME=apache2_virtualhost_id><TMPL_ELSE>0</TMPL_IF>-apache2_virtualhost_servername" value="<TMPL_VAR NAME=apache2_virtualhost_servername>"/></td>
<td><input type="text" name="apache2_virtualhosts-<TMPL_IF NAME=apache2_virtualhost_id><TMPL_VAR NAME=apache2_virtualhost_id><TMPL_ELSE>0</TMPL_IF>-apache2_virtualhost_serveradmin" value="<TMPL_VAR NAME=apache2_virtualhost_serveradmin>"/></td>
<td><input type="text" name="apache2_virtualhosts-<TMPL_IF NAME=apache2_virtualhost_id><TMPL_VAR NAME=apache2_virtualhost_id><TMPL_ELSE>0</TMPL_IF>-apache2_virtualhost_documentroot" value="<TMPL_VAR NAME=apache2_virtualhost_documentroot>"/></td>
<td><select name="apache2_virtualhosts-<TMPL_IF NAME=apache2_virtualhost_id><TMPL_VAR NAME=apache2_virtualhost_id><TMPL_ELSE>0</TMPL_IF>-apache2_virtualhost_sslenable"><option value="1" <TMPL_IF NAME=apache2_virtualhost_sslenable>selected</TMPL_IF>>yes</option><option value="0" <TMPL_UNLESS NAME=apache2_virtualhost_sslenable>selected</TMPL_UNLESS>>no</option></select></td><!-- <TMPL_VAR NAME=apache2_virtualhost_sslenable> -->
<td><input type="text" name="apache2_virtualhosts-<TMPL_IF NAME=apache2_virtualhost_id><TMPL_VAR NAME=apache2_virtualhost_id><TMPL_ELSE>0</TMPL_IF>-apache2_virtualhost_log" value="<TMPL_VAR NAME=apache2_virtualhost_log>"/></td>
<td><input type="text" name="apache2_virtualhosts-<TMPL_IF NAME=apache2_virtualhost_id><TMPL_VAR NAME=apache2_virtualhost_id><TMPL_ELSE>0</TMPL_IF>-apache2_virtualhost_errorlog" value="<TMPL_VAR NAME=apache2_virtualhost_errorlog>"/></td>
</tr>
<input type="hidden" name="apache2_virtualhosts-<TMPL_IF NAME=apache2_virtualhost_id><TMPL_VAR NAME=apache2_virtualhost_id><TMPL_ELSE>0</TMPL_IF>-apache2_virtualhost_id" value="<TMPL_VAR NAME=apache2_virtualhost_id>"/>
</TMPL_LOOP>
</table>
<hr />
<div class="right">
<input type="submit" value="ok"/>
<input type="button" value="cancel" onclick="javascript:document.location='/cgi/kanopya.cgi/clusters/view_clusterdetails?cluster_id=<TMPL_VAR NAME=cluster_id>'"/>
</div>
</form>
</div>
<TMPL_INCLUDE NAME="footer.tmpl">
<script type="text/javascript">
document.getElementById('<TMPL_VAR NAME=apache2_loglevel>').selected=1;
</script>
